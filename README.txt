=== Connections Business Directory ===
Contributors: shazahm1@hotmail.com
Donate link: http://connections-pro.com/
Tags: address book, business directory, chamber of commerce business directory, church directory, company business directory, contact directory, custom business directory, directory, listings directory, local business directory, link directory, member directory, staff directory
Requires at least: 4.1
Tested up to: 4.4.2
Stable tag: 8.5.13
License: GPLv2 or later
License URI: http://www.gnu.org/licenses/gpl-2.0.html

An easy to use directory plugin to create an addressbook, business directory, member directory, staff directory or church directory.

== Description ==

[Homepage](http://connections-pro.com/) | [Showcase](http://connections-pro.com/showcase/) | [Documentation](http://connections-pro.com/documentation/contents/) | [Support](http://connections-pro.com/support/) | [Templates](http://connections-pro.com/templates/) | [Extensions](http://connections-pro.com/extensions/)

Quite simply, Connections Business Directory is the [best directory plugin available](https://wordpress.org/support/view/plugin-reviews/connections?filter=5) for WordPress. Its simplicity in design and function, vast array of unique features and versatility are the reasons more and more people are turning to Connections for their directory needs. You can use Connections to create a simple address book, maintain a staff or member directory and run a business directory or link directory. Connections was built bottom up to be as configurable as possible while providing the features you need. Read on to learn about some of the best features Connections has to offer...

= Features =

* **Seamless integration** with WordPress.
* **[Highly rated support.](https://wordpress.org/support/view/plugin-reviews/connections?filter=5)**
* [Continuously updated](https://wordpress.org/plugins/connections/changelog/) bringing you new features for free.
* Dashboard admin page where you can see at a glance today's anniversaries and birthdays as well as upcoming anniversaries and birthdays of members in your directory.
* Multiple entry types from which to choose; such as individual, organization and family. The family entry type is unique to Connections. This entry type allows you to group individuals together as a family which makes Connections ideally suited for creating a church directory.
* You control which entries are viewable to the public and which entries are private, viewable for logged in users only. You can even have entries set as unlisted so only admins can view them.
* **[Repeatable fields](http://connections-pro.com/documentation/add-entry/#Repeatable_Fields)** for address, phone numbers, email, IM, social media, links and dates.
* Hierarchical (nested) **category support**. Businesses and members in your directory can be added to any number of categories.
* Include a biographical text for an individual member or business description for each entry in your directory using an easy to use rich text editor.
* You can easily add a business logo or photo of the staff member for each entry in your directory. The photo and logo images are fully responsive with **HiDPI (Retina) display support**.
* **Scalable,** manage directories which [contain hundreds of thousands of entries](https://wordpress.org/support/topic/scales-to-at-least-250000-entries).
* **[CSV Export](http://connections-pro.com/documentation/tools/#Export)** of addresses, phone numbers, email addresses and dates.
* **[CSV Import](http://connections-pro.com/documentation/tools/#Categories-2)** of **nested** categories.
* **[Role capability support](http://connections-pro.com/documentation/roles/)**.
* Displaying your entries on the frontend is as simple as putting a shortcode on a page. Don't let this simplicity fool you. The shortcode provides a dizzying array of options that are just too numerous to list. To learn more, [go here](http://connections-pro.com/documentation/plugin/shortcodes/).
* **SEO.** Every entry outputs following the [hCard](http://microformats.org/wiki/hcard) spec. Soon to be updated to following Schema.org.
* **[Extensible](http://connections-pro.com/extensions/)** and developer friendly.
* Robust **templating support** with the [Template Customizer](http://connections-pro.com/2015/07/27/feature-preview-template-customizer/). Several basic templates are provided to get you started with many more [premium templates available](http://connections-pro.com/templates/).

= Extensible =

Here are some great **free extensions** (with more on the way) that enhance your experience with the business directory:

**Utility**

* [Toolbar](http://wordpress.org/plugins/connections-toolbar/) :: Provide quick links to the admin pages from the admin bar.
* [Login](http://wordpress.org/plugins/connections-business-directory-login/) :: Provides a simple to use login shortcode and widget.

**Custom Fields**

* [Business Hours](http://wordpress.org/plugins/connections-business-directory-hours/) :: Add the business open hours.
* [Income Level](http://wordpress.org/plugins/connections-business-directory-income-levels/) :: Add an income level.
* [Education Level](http://wordpress.org/plugins/connections-business-directory-education-levels/) :: Add an education level.
* [Languages](http://wordpress.org/plugins/connections-business-directory-languages/) :: Add languages spoken.
* [Hobbies](https://wordpress.org/plugins/connections-business-directory-hobbies/) :: Add hobbies.

**Misc**

* [Face Detect](https://wordpress.org/plugins/connections-business-directory-face-detect/) :: Applies face detection before cropping an image.

**Premium Extensions**

* [Authored](http://connections-pro.com/add-on/authored/) :: Displays a list of blog posts written by the entry on their profile page.
* [Contact](http://connections-pro.com/add-on/contact/) :: Displays a contact form on the entry's profile page to allow your visitors to contact the entry without revealing their email address.
* [CSV Import](http://connections-pro.com/add-on/csv-import/) :: Bulk import your data in to your directory.
* [Custom Category Order](http://connections-pro.com/add-on/custom-category-order/) :: Order your categories exactly as you need them.
* [Form](http://connections-pro.com/add-on/form/) :: Allow site visitor to submit entries to your directory. Also provides frontend editing support.
* [Link](http://connections-pro.com/add-on/link/) :: Links a WordPress user to an entry so that user can maintain their entry with or without moderation.
* [ROT13 Encryption](http://connections-pro.com/add-on/rot13-email-encryption/) :: Protect email addresses from being harvested from your business directory by spam bots.
* [SiteShot](http://connections-pro.com/add-on/siteshot/) :: Show a screen capture of the entry's website.
* [Widget Pack](http://connections-pro.com/add-on/widget-pack/) :: A set of feature rich, versatile and highly configurable widgets that can be used to enhance your directory.

= Developer Friendly =

* Open development on [Github](https://github.com/shazahm1/Connections).
* Access to **180 action hooks** and over **300 filters** ... and counting.
* Term API.
* Custom Metabox and Fields API.
* Template Engine and API.
* Fragment Cache API.
* Log API (stateless and stateful).
* Admin Notices API.
* Email API.
* Settings API.

The directory has a very flexible template engine. The loading of template and CSS are context aware. This means you could create specific templates that load when a user visits a specific entry, category, postal code and more.

Templates and CSS overriding is very granular and update safe. Check out these links for the details:

* [Custom Core CSS](http://connections-pro.com/2014/05/04/quicktip-custom-css/)
* [Custom CSS for Templates](http://connections-pro.com/2014/05/07/quicktip-custom-css-templates/)
* [Custom Template Override File](http://connections-pro.com/2014/06/04/quicktip-custom-template-override-files/)

= Languages =

Connections Business Directory has been embraced around the world and has been translated by its users in the following languages.

* Arabic [63% Complete]
* Catalan [55% Complete]
* Croatian (Croatia) [23% Complete]
* Danish [32% Complete]
* Danish (Denmark) [30% Complete]
* Dutch (Netherlands) [51% Complete]
* French (France) [64% Complete]
* German (Germany) [49% Complete]
* Greek (Greece) [72% Complete]
* Hebrew (Israel) [64% Complete]
* Hungarian (Hungry) [54% Complete]
* Italian (Italy) [31% Complete]
* Norwegian [13% Complete]
* Persian (Iran) [64% Complete]
* Polish (Poland) [55% Complete]
* Portuguese (Brazil) [52% Complete]
* Portuguese (Portugal) [24% Complete]
* Romanian (Romania) [73% Complete]
* Russian (Russia) [28% Complete]
* Serbian (Latin) [3% Complete]
* Spanish (Latin America) [51% Complete]
* Spanish (Spain) [68% Complete]
* Sweden (Swedish) [1% Complete]
* Turkish (Turkey) [60% Complete]

== Credits: ==
* This plugin was based off LBB, ["Little Black Book"](http://wordpress.org/extend/plugins/lbb-little-black-book/); which was based on [Addressbook](http://wordpress.org/extend/plugins/addressbook/), both of which can be found in the Plugin Directory.
* vCard class is a modified version by [Troy Wolf](http://www.troywolf.com/articles/php/class_vcard/).
* Image uploading and processing done by the class.upload.php by [Colin Verot](http://www.verot.net/php_class_upload.htm).
* Update Notice in plugin admin inspired by Changelogger 1.2.8 by [Oliver Schlöbe](http://wordpress.org/extend/plugins/changelogger/).
* TimThumb by [Ben Gillbanks and Mark Maunder](http://code.google.com/p/timthumb/).
* Screen Options class by [Janis Elsts](http://w-shadow.com/blog/2010/06/29/adding-stuff-to-wordpress-screen-options/).
* spin.js by [Felix Gnass](http://fgnass.github.com/spin.js/).
* $.goMap() jQuery Google Maps Plugin by [Jevgenijs Shtrauss](http://www.pittss.lv/jquery/gomap/).
* MarkerClustererPlus jQuery Google Maps Marker Clustering Plugin by [Gary Little](http://gmaps-utility-library-dev.googlecode.com/svn/tags/markerclusterer/).
* Validation jQuery plugin by [Jörn Zaefferer](http://bassistance.de/jquery-plugins/jquery-plugin-validation/).
* Chosen jQuery plugin by [Harvest](https://github.com/harvesthq/chosen/).
* qTip jQuery plugin by [Craig Thompson](http://craigsworks.com/projects/qtip2/).
* Preloading GIF generated by [Preloaders.net](http://www.preloaders.net/).
* Email and URL validation methods by [Gizmo Digital Fusion](http://wpcodesnippets.info/blog/two-useful-php-validation-functions.html).
* Social media icons by [WPZOOM.com](http://www.wpzoom.com/wpzoom/500-free-icons-wpzoom-social-networking-icon-set/); license [CC BY-SA 3.0](http://creativecommons.org/licenses/by-sa/3.0/).
* iTunes icon by [Paul Robert Lloyd](http://paulrobertlloyd.com/); license [Attribution-ShareAlike 2.0 UK: England & Wales (CC BY-SA 2.0)](http://creativecommons.org/licenses/by-sa/2.0/uk/).
* Podcast icon by [schollidesign](http://findicons.com/icon/94188/podcast_new); license GNU/GPL.
* CSS theme and image used for the jQuery UI Datepicker by [helenhousandi](https://github.com/helenhousandi/wp-admin-jquery-ui).

== Screenshots ==

1. The many possible faces of your business  directory. Connections supports templates. This screenshot showcases (left to right) [Excerpt Plus](http://connections-pro.com/add-on/excerpt-plus/), [Circled](http://connections-pro.com/add-on/circled/), [Gridder](http://connections-pro.com/add-on/gridder/), [Tile Plus](http://connections-pro.com/add-on/tile-plus/) and [Slim Plus](http://connections-pro.com/add-on/slim-plus/).
2. Another screenshot showcasing the different templates that can be used to style your business directory. Left to right; [Circled](http://connections-pro.com/add-on/circled/), [cMap](http://connections-pro.com/add-on/cmap/) and [Gridder](http://connections-pro.com/add-on/gridder/).
3. The Dashboard admin page. A snapshot of important information about the directory.
4. The Manage admin page. Here you can manage all the entries within the address book.
5. The Add New Entry admin page. From here you can add new entries to the addressbook.
6. The Categories admin page. Add as many categories as you wish to the directory. Categories do support parent/child relationships.
7. The Templates admin page. Here you choose which template that the business directory should use when displaying the directory.
8. The Settings admin page where you can configure the business directory options.
9. The Role and Capabilities admin page. Here you can assign which roles have which capabilities in viewing and managing the directory.
10. The [Tools :: Export admin page](http://connections-pro.com/documentation/tools/#Export) contains many different CSV export tools to allow you to easily export the data from your business directory.
11. The [Tools :: Import admin page](http://connections-pro.com/documentation/tools/#Categories-2) allows you to quickly bulk import nested categories into your business directory.
12. In the event that you need support the [Tools :: System Information admin page](http://connections-pro.com/documentation/tools/#System_Information) contains all the information needs about your directory installation which can be easily and quickly shared.
13. Need to move the configuration of your business directory from one site to another? The [Tools : Settings Import/Export admin page](http://connections-pro.com/documentation/tools/#Settings_ImportExport) allows you to do it with zero fuss. This will even migrate the Template Customizer settings applied to template and any of the settings for the [premium extensions](http://connections-pro.com/extensions/).

[Connections running on live websites can be found here.](http://connections-pro.com/showcase/)

== Installation ==

[Installation instructions can be found here.](http://connections-pro.com/documentation/plugin/install/)

= Using the WordPress Plugin Search =

1. Navigate to the `Add New` sub-page under the Plugins admin page.
2. Search for `connections business directory`.
3. The plugin should be listed first in the search results.
4. Click the `Install Now` link.
5. Lastly click the `Activate Plugin` link to activate the plugin.

= Uploading in WordPress Admin =

1. [Download the plugin zip file](http://wordpress.org/plugins/connections/) and save it to your computer.
2. Navigate to the `Add New` sub-page under the Plugins admin page.
3. Click the `Upload` link.
4. Select Connections Business Directory zip file from where you saved the zip file on your computer.
5. Click the `Install Now` button.
6. Lastly click the `Activate Plugin` link to activate the plugin.

= Using FTP =

1. [Download the plugin zip file](http://wordpress.org/plugins/connections/) and save it to your computer.
2. Extract the Connections Business Directory zip file.
3. Create a new directory named `connections` directory in the `../wp-content/plugins/` directory.
4. Upload the files from the folder extracted in Step 2.
4. Activate the plugin on the Plugins admin page.

= Requirements =

* **WordPress version:** >= 3.8
* **PHP version:** >= 5.2.4
* **NOTE:** Upgrading from version 0.6.1 and newer only is supported. Previous version must upgrade to 0.6.1 before upgrading to the current version.

== Frequently Asked Questions ==

A comprehensive list of [FAQs can be found here.](http://connections-pro.com/faq/)

= How do I display the business directory on my site? =
We have a [QuickStart](http://connections-pro.com/quickstart/) available that'll walk you thru the most basic setup. Basically all you need to do is, create a page, and add the `[connections]` shortcode and then start adding entries to your directory.

= Will it work with my theme? =
Connections Business Directory has been designed to work with any theme.

= Is Connections Business Directory translation-ready? =
Yes it is. Connections Business Directory comes with many user supplied translations. We use Transifex to manage translations. This service make it easy for us manage and easy for you to translate. To read more, see [this page](http://connections-pro.com/documentation/translation/).

= Is Connections Business Directory compatible with WordPress Multisite? =
Yes it is. However, do not Network activate Connections. Activate it on only the subsites that you wish to use Connections.

= Is it possible to share entries with other sites within a WordPress Multisite installation? =
Yes this is possible but there is a special setup required to do so. It is recommended this is done before added entries to your business directory.

1. Activate Connections the primary site.
2. Add `define( 'CN_MULTISITE_ENABLED', FALSE );` to your `wp-config.php` file. **NOTE:** If you have added any entries to any of your subsites, that data will be lost as Connections will read the directory entry data from the primary site's database tables.
3. Activate Connections on the subsites you wish to use Connections.


== Changelog ==

= 8.5.13 03/11/2016 =
* TWEAK: General code cleanup of cnMessage to fix phpDoc and correct potential PHP warning/error notices by checking for existing array indexes before working with them.
* TWEAK: Refactor cnEntryMetabox::address() to remove duplicate code.
* DEV: Add a missing class phpDoc header.
* I18N: Update POT file.
* I18N: Update MO files.

= 8.5.12 03/04/2016 =
* BUG: Set format to string for lat/lng instead of float when passing the values thru wpdb->prepare() to prevent them from being rounded at 6 decimal places.
* BUG: The "Recently Added" Dashboard widget would show entries in the moderation queue.
* BUG: The "Recently Modified" Dashboard widget would show entries in the moderation queue.
* BUG: Correct bug in the cnHTML::textarea() method.
* TWEAK: Reduce image quality default from 90 to 82 to match upcoming change to WordPress to reduce image sizes without adversely affecting perceived image quality.
* TWEAK Check for ABSPATH at top of image editor classes to help prevent direct access.
* TWEAK: Escape URL on the Manage admin page for filter by category.
* TWEAK: Minor tweaks to the Templates admin page.
* TWEAK: The "Awaiting Moderation" Dashboard widget will now show the newest first instead of the oldest.
* TWEAK: Refactor cnEntryMetabox::links() to remove duplicate code.
* TWEAK: Refactor cnEntryMetabox::dates() to remove duplicate code.
* TWEAK: CSS tweaks to the Templates admin page.
* OTHER: Correct misspelling.
* OTHER: Update the minified CSS and JS files.
* DEV: Couple minor phpDoc fixes.

= 8.5.11 02/12/2016 =
* COMPATIBILITY: Add an Enfold theme compatibility shim when viewing a single entry.'s detail/profile view.
* BUG: Correct bug for mouseover hover text for email links so they correctly reflect the email type.
* BUG: Correct an error in the admin javascript which prevented a repeatable field from collapsing.
* TWEAK: Move the geocode button to be within the `address-geo` div in the Address field metabox.
* TWEAK: Fix the alpha index with many character from overlapping the table header.
* TWEAK: Correct the positioning of a the repeatable field toggle arrow.
* TWEAK: Add a margin the the `#minor-publishing` div to fix the spacing of the role capability reset metabox.
* TWEAK: Cleanup the address field metabox inputs for a little cleaner presentation.
* TWEAK: Add missing container div on the geocode button when editing an entry with an existing address.
* TWEAK: Tweak styling of the phone number field metabox to add more whitespace.
* TWEAK: Tweak styling of the email address field metabox to add more whitespace.
* TWEAK: Tweak styling of the instant messenger field metabox to add more whitespace.
* TWEAK: Tweak styling of the social media network field metabox to add more whitespace.
* TWEAK: Tweak styling of the link field metabox to add more whitespace.
* TWEAK: Tweak positioning of the repeatable fields remove button.
* TWEAK: Refactor cnEntryMetabox::phone() to remove duplicate code.
* TWEAK: Refactor cnEntryMetabox::email() to remove duplicate code.
* TWEAK: Refactor cnEntryMetabox::messenger() to remove duplicate code.
* TWEAK: Refactor cnEntryMetabox::social() to remove duplicate code.
* OTHER: Correct a few misspellings in cnGeo in the phpDoc.
* OTHER: Update EDD_SL_Plugin_Updater to 1.6.3.
* OTHER: Remove unused variables in cnEntryMetabox.
* DEV: Add a @todo to cnShortcode.
* DEV: Minor phpDoc fixes in cnEntryMetabox.

= 8.5.10 02/05/2016 =
* NEW: Add preferred class names for entry data that has been set as the preferred option. This will allow them to be targeted with CSS to allow differentiation.
* NEW: Introduce cnTerm_Object.
* NEW: Various changes in cnTerm to bring methods back into alignment with WordPress 4.4.
* BUG: Correct bug that prevented the db upgrade routine from running.
* BUG: Fix the pagination links when the directory is used on the page set as the WordPress Front Page.
* TWEAK: Simplify the logic which determines which entries to retrieve based on entry status.
* TWEAK: Simplify the logic to retrieve entries by type.
* TWEAK: Simplify the logic to exclude categories which results in fewer db queries.
* TWEAK: Simplify the logic to include categories which results in fewer db queries.
* TWEAK: Simplify the logic in cnRetrieve::setQueryStatus().
* TWEAK: Permit only the supported statuses to be queried in cnRetrieve::setQueryStatus().
* TWEAK: Simplify cnRetrieve::recordCount() to use setQueryVisibility() and setQueryStatus().
* TWEAK: Make cnRetrieve::addresses() a static method.
* TWEAK: Complete refactor of the cnRetrieve::phoneNumbers() method.
* TWEAK: Complete refactor of cnRetrieve::emailAddresses().
* TWEAK: Complete refactor of cnRetrieve::imIDs().
* TWEAK: Complete refactor of cnRetrieve::socialMedia().
* TWEAK: Complete refactor of cnRetrieve::links().
* TWEAK: Complete refactor of cnRetrieve::dates().
* TWEAK: Remove use of deprecated function and unused global var in cnRetrieve::search().
* TWEAK: Set the default year from 1970 to 1972 for the legacy anniversary/birthday fields to allows for a Feb 29th date on leap years.
* TWEAK: Change cnMeta::updateCache() from private to public because it is required in cnTerm.
* TWEAK: Update cnTerm::getRelationships(). Add support for `taxonomy`, `parent` and `term_taxonomy_id` options for the `order_by` param. Add the `parent` param to limit results to a given term ID. Add support for term meta queries.
* TWEAK: Update cnTerm::getTaxonomyTerms() to support the `name` and `childless` params. Add support for term meta queries. Converted to return an array of cnTerm_Object objects.
* TWEAK: Update cnTerm::getBy() to make the `$taxonomy` param optional if the `$field` param is set to `term_taxonomy_id`. Convert to return an array of cnTerm_Object objects.
* TWEAK: Update cnTerm::get() to make the `$taxonomy` param optional. Converted it to return an array of cnTerm_Object objects.
* TWEAK: Change cnTerm::childrenIDs() to be public.
* TWEAK Deprecate cnTerm::get_hierarchy() because it is a duplicate of cnTerm::childrenIDs(). Delete code and return cnTerm::childrenIDs().
* TWEAK: Remove use of deprecated method cnTerm::get_hierarchy(). Use cnTerm::childrenIDs() instead.
* TWEAK: Remove filter which added support for meta queries cnTerm::getTaxonomyTerms() since it now supports it internally.
* TWEAK: Ensure the `name` attribute is reset before executing cnTerm::getTaxonomyTerms() in the template walker classes.
* TWEAK: Refactor cnRetrieve::entryTerms() for better caching of results and update cached results to return array of cnTerm_Object objects.
* TWEAK: Refactor cnEntry::getCategory() to use cnRetrieve::entryTerms() and to get the term relationships on demand instead of preloading when cnEntry is created.
* OTHER: Remove unused legacy methods in cnRetrieve.
* OTHER: Remove unnecessary isset check in cnRetrieve::setQueryVisibility().
* DEV: Update phpDoc in a couple cnTerm methods to note the WordPress core equivalent function.

= 8.5.9 02/01/2016 =
* NEW: Add ABSPATH to the System Info.
* NEW: Refactor cnTemplatePart::searchingMessage() to add filters and hooks to make it more configurable for developers.
* BUG: Enqueue the JavaScript on the Settings Import/Export admin page.
* BUG: Use CN_TEMPLATE_PATH instead of CN_PATH to include the core templates. Remove, the double forward slash.
* BUG: Fix unescaped user search term in the admin. Unfiltered user input for the search field being sent directly via echo back to the user's browser.
* BUG: Escape role names and capabilities submitted by the Connections : Roles admin page when adding/removing a role capability.
* TWEAK: Tweak logic in cnUtility::getUUID() so if openssl_random_pseudo_bytes() fails, it'll gracefully fallback to the compatibility method rather than failing.
* TWEAK: Remove instance of `$plugindir = get_bloginfo( 'wpurl' ) . '/wp-content/plugins';` as requested by wp.org.
* TWEAK: Remove unused global from cnRole::reset().
* TWEAK: Add message for user if they do not have access to any admin tools.
* TWEAK: Correct the user capabilities for the Tools admin page to better align with the core WordPress user capabilities for the same functions.
* TWEAK: Escape role names before resetting them.
* TWEAK: Escape URL use to kickoff a DB upgrade.
* TWEAK: Code cleanup of the DB upgrade message to make it more readable.
* TWEAK: Escape CSV Export type before processing.
* TWEAK: Escape Connections : Manage admin page view action.
* TWEAK: Escape the output for the current character on the Connections : Manage admin page.
* TWEAK: Escape the current log type being viewed.
* TWEAK: Run absint() on log post ID.
* OTHER: Reduce tags as requested by wp.org.
* OTHER: Correct misspelling in cnRole::reset().
* OTHER: Add newline at EOF in class.capabilities.php.
* OTHER: Remove an extra space.
* DEV: Use minified files instead of vendor supplied packed files for jQuery goMap and MarkerClusterer per wp.org guidelines.
* DEV: Use Yoda condition.

= 8.5.8 01/08/2016 =
* NEW: CSV export will now export the visibility of address, phone, email and dates.
* NEW: CSV export will now export the visibility status of social media, instant messenger and links.
* NEW: CSV export will now export the image and logo URL/s.
* COMPATIBILITY: Remove spaces after delimiter in CSV export for Excel compatibility.
* BUG: Correct bug in setting the radio group name attribute.
* BUG: Properly sanitize the address fields when saving an entry.
* TWEAK: Remove unused global var $current_user in several methods in cnRetrieve. Remove unused calls to get_currentuserinfo() which will be deprecated in WordPress 4.5.
* TWEAK: Move the header breakout fields and field types to be within their switch case so they are only run when needed instead on every field export type.
* TWEAK: Correct the user capabilities for the Tools admin page to better align with the core WordPress user capabilities for the same functions.
* TWEAK: Add missing user capability checks for system info and remote system info tools.
* OTHER: Tweak the default tool tab to be the first registered tab rather than being hard coded.
* OTHER: Update link to the documentation page.
* OTHER: Remove TimThumb from the vendors folder and most references to it from the code and text since it has not been needed for well over a year now.
* DEV: Add ability to register a tab with a user role capability so the user must have that capability in order to access that tool tab.


= 8.5.7 12/18/2015 =
* Compatibility: Set the remaining cnEntry properties to an empty string rather than the default NULL for WP 4.4 compatibility.
* TWEAK: Add WP max memory limit constant to system info.
* OTHER: Remove image setting instructions since they no longer apply.
* DEV: Update phpDoc for cnShortcode::view().
* I18N: Update POT file.
* I18N: Update MO files.

= 8.5.6 12/10/2015 =
* COMPATIBILITY: Fix for WordPress 4.4. Use an empty string instead of NULL when inserting data for an entry with no value.
* TWEAK: Change the checkbox header/footer column from th to td so the correct styling is applied by WP.
* TWEAK: Change the column name from "Hierarchy" to "Parent" in the category CSV export.
* TWEAK: Add default primary column name to list table classes.
* TWEAK: Revert CSS tweaks designed to prevent themes from hiding the vcard class due to it breaking templates layouts.

= 8.5.5 12/08/2015 =
* NEW: Bulk export the categories as a SCV file.
* NEW: Add support to bulk import **nested** categories.
* BUG: When querying the term count field, return an int instead of string.
* TWEAK: Increase the filter priority for processing single entry view.
* TWEAK: Allow case sensitive term exists checks on case insensitive table collations.
* TWEAK: Remove the unfiltered_upload capability from users in cnUpload::file() to enforce the file mime type check.
* TWEAK: Another CSS tweak to help ensure themes do not hide the vcard class.
* TWEAK: Add delimiter option to cnFunction::parseStringList().
* TWEAK: Update cnRetrieve::entries() to use cnFunction::parseStringList() to simplify code.
* OTHER: Remove use of deprecated methods in cnRetrieve::categories() and cnRetrieve::category().
* OTHER: Update minified files.
* DEV: Update .gitignore to ignore the /docs directory.
* DEV: Update .gitiattributes to ignore the /docs directory.
* DEV: Add grunt-phpdocumentor task.
* DEV: phpDoc fixes in cnRetrieve.
* DEV: phpDoc fixes for filters in cnTerm::insert().
* DEV: Add missing phpDoc  to cnUpload::result().
* DEV: Correct misspelling in phpDoc.
* DEV: First pass at cleaning up the cnUser class.
* I18N: Update the POT file.
* I18N: Update MO files.

= 8.5.4 11/11/2015 =
* NEW: Add DESCRIBE table_name output to the system info output.
* TWEAK: Use HTML entity code for brackets in template help text to prevent plugins that add the do_shortcode callback to the gettext filter. This will prevent WordPress from attempting to embed the directory instead of displaying the text.
* TWEAK: Adjust CSS so themes do not hide the vcard class while not breaking the layout of the Circled template.
* OTHER: Removed `sensor` query var when registering the URL for the Google Maps API as it is not longer required.
* OTHER: Trim changelog section readme.txt because it was too long for wp.org to parse properly.
* OTHER: Correct misspelling in inline code doc.
* I18N: Use `esc_html__()` for the settings section description callbacks to prevent translations from  causing an invalid syntax PHP error.
* I18N: Update the POT file.
* I18N: Update MO files.

= 8.5.3 11/09/2015 =
* FEATURE: Family relations are now sortable when adding/editing a Family entry.
* FEATURE: Enable support to order_by all date types.
* NEW: Introduce cnString::truncate().
* BUG: Fix bug where the "more" string would be inserted mid excerpt.
* BUG: Correct country codes for North/South Korea.
* TWEAK: Add Wairarapa to NZ regions.
* TWEAK: Allow users with the `unfiltered_html` capability to have access to the full rich text editor.
* TWEAK: Add logic to the cnShortcode::single() filter to basically ignore the Divi theme. A better fix will have to be implemented at a later date but this will be more than sufficient for now.
* TWEAK: Add `jquery-ui-sortable` as an admin dependency.
* TWEAK: Add additional CSS to help ensure themes do not hide the vcard class used within the shortcode.
* OTHER: Update minified CSS/JS files.
* I18N: Update the POT file.
* I18N: Update MO files.
* I18N: Correct textdomain on string.
* I18N: Add Swedish (Sweden) translation.
* I18N: Remove Thai translation.
* I18N: Update translations completion in readme.txt.

= 8.5.2 10/23/2015 =
* NEW: Add support for term meta queries.
* NEW: Introduce the Term Meta UI API.
* COMPATIBILITY: Dequeue the Themify Customizer scripts because it takes over the Customizer panel when loaded.
* BUG: Correct variable names in cnEntry::getBirthday(). Copy/paste strikes again :/
* BUG: Change the way the callback strings for a couple settings are escaped because they were causing PHP notices to be displayed for a user.
* BUG: Simplify an if statement because wp.org would not allow it to commit as structured.
* BUG: Check that an entry was returned before changing post's dates in cnSEO::postDates().
* BUG: Check to ensure entry was returned before adjusting the meta page title in cnSEO::filterMetaTitle().
* BUG: Check the post and post ID properties are set before checking against them in cnSEO::filterPostTitle().
* BUG: Check to ensure entry was returned before adjusting the page title in cnSEO::filterPostTitle().
* BUG: Check to ensure entry was returned before adjusting adding page meta desc in cnSEO::metaDesc().
* BUG: Ensure $description is set before using to prevent PHP warning in cnSEO::metaDesc().
* BUG: Check to ensure entry was returned before added the admin menu node in cnEntry_Action::adminBarMenuItems().
* BUG: Correct column ID when selecting a term after it being edited.
* BUG: Correct `cn_excerpt` filter name, removed the double underscore.
* TWEAK: Remove used of deprecated methods in cnSEO.
* TWEAK: Remove the plugin prefix from Settings API calls in cnSEO.
* TWEAK: Check for string length 0 to be more explicit in cnSEO::metaDesc().
* TWEAK: Remove unused global $connections var throughout cnSEO.
* TWEAK: Update category note about deleting a category that the assigned entries will be reassigned to the default category.
* TWEAK: Change admin page titles from h2 tags to h1 tags to be WordPress 4.3+ compliant.
* TWEAK: Remove use of deprecated core WP function get_screen_icon() from the Roles admin page.
* TWEAK: Remove use of the core WP deprecated function get_screen_icon from the Settings API.
* TWEAK: Add `id` attributes to the list actions and entry actions so they can be easily targets with CSS `id` selectors.
* TWEAK: Make cnShortcode::find() more robust by altering the regex to search only for the tag being searched for rather than all registered shortcode tags.
* TWEAK: Alter cnShortcode::single() to work with the $matches returned from cnShortcode::find() instead of the found tag attributes.
* TWEAK: Refactor cnFormatting::toBoolean() to use filter_var() to simplify method using a core PHP function.
* TWEAK: Tweak the admin publish metabox visibility section so it does not interfere with the Term Meta UI.
* TWEAK: Remove unused commented out code in cnvCard.
* OTHER: Correct capitalization of CSV in readme.txt and changelog.txt.
* OTHER: Correct misspelling of latitude in cnvCard.
* I18N: Update POT file.
* I18N: Update all MO files.
* I18N Add Greek translation.
* DEV: phpDoc fixes for cnSEO::metaDesc().

= 8.5.1 10/10/2015 =
* FEATURE: Add a new CSV export option which can be used to export most entry data into a single CSV file.
* NEW: Introduce cnCSV_Export::escape().
* BUG: Fix the `atts` return option in cnShortcode::find().
* BUG: Make sure to pass all shortcode options (+slug) so the single entry view to provide backwards compatibility to all shortcode options based templates.
* TWEAK: Improve backward support for legacy anniversary field.
* TWEAK: Improve backward support for legacy birthday field.
* TWEAK: Add the entry type, family name and organization fields to the CSV export for addresses.
* TWEAK: Add the entry type, family name and organization fields to the CSV export for dates.
* TWEAK: Add the entry type, family name and organization fields to the CSV export for phone numbers.
* TWEAK: Add the entry type, family name and organization fields to the CSV export for email.
* TWEAK: Rename cnCSV_Export::addSlashesAndQuote() to cnCSV_Export::escapeAndQuote(). Use cnCSV_Export::escape() to excape the CSV text string.
* TWEAK: Change usage of cnCSV_Export::addSlashesAndQuote() to cnCSV_Export::escapeAndQuote() throughout.
* TWEAK: Remove unnecessary return string in cnCSV_Batch_Export::writeHeaders().
* OTHER: Update EDD-SL library to latest version.
* OTHER: Correct misspelling.

= 8.5 10/2/2015 =
* FEATURE: CSV batch export addresses, phone numbers, email address and dates.
* BUG: Do not double encode the edit entry URL.
* TWEAK: Change the settings export/import tab ID and callback to be more specific to make way for the CSV export tab and callback.
* TWEAK: Enqueue the System Info in the System Info tab callback so it only loads on its tab.

= 8.4.5 09/25/2015 =
* NEW: Update the Profile template to support the Template Customizer.
* BUG: Require the plugin update API in remote viewing of system info.
* BUG: Prevent duplicate content on single entry profile detail page.
* TWEAK: Add the cn-gmap class to the map block so it can easily be selected with CSS.
* OTHER: Correct misspelling.

= 8.4.4 09/17/2015 =
* TWEAK: Remove use of deprecated like_escape() throughout.
* TWEAK: Check that json_decode() returned an object before checking value of a property in cnGeo.
* TWEAK: Enqueue CSS and JavaScript using relative protocol URL/s.
* OTHER: Update Chosen to 1.4.2.
* OTHER: Update Font Awesome to 4.4.0.
* OTHER: Update jQuery goMap to 1.3.3.
* OTHER: Update jQuery qTip to 2.2.1.
* OTHER: Update MarkerClustererPlus to 2.1.2.
* OTHER: Update picturefill to 2.3.1.
* OTHER: Update jQuery validate to 1.14.0.
* OTHER: Remove unused jQuery Preload.
* OTHER: Remove unused jQuery preloader.
* OTHER: Remove unused jQuery spin.
* OTHER: Remove unused jQuery spin.js.

= 8.4.3 09/11/2015 =
* NEW: Introduce cnURL::makeProtocolRelative().
* NEW: Introduce cnImage::insertIntoMediaLigrary(). Required further development, to be used in future versions.
* BUG: Address bug that prevented the default format attribute from being changed via a filter.
* TWEAK: Add updated jQuery UI styles to match the current WP admin style and color schemes.
* TWEAK: Add plugin update available info to the System Info.
* TWEAK: Update the mshot API URL.
* TWEAK: Enqueue the jQuery data picker by handle only when rendering the metabox datepicker control.

= 8.4.2 08/31/2015 =
* BUG: Properly set form action when using the `home_id` shortcode option.
* NEW: Introduce cnURL::makeRelative().
* TWEAK: Move the social media icons to the bottom of the entry contact info in the Default Entry Card.
* TWEAK: Hopefully properly deal with hosts that force open_basedir in cnTemplateFactory::scan().
* OTHER: Update minified CSS file.
* I18N: Fix to make the image/logo hover string translation ready.

= 8.4.1 08/24/2015 =
* BUG: Fix the home_id shortcode option in cnTemplatePart::formOpen().
* BUG: Remove a PHP_EOL in cnHTML::input() which was causing unnecessary spaces to be added between input fields.
* BUG: Correct bug preventing activation of individual template types.
* TWEAK: Set default template image placeholder to not display by default matching implementation of previous version.
* TWEAK: Add default style to remove box styles applied to images by themes.
* TWEAK: The category select customizer message needs to be displayed only on the results list view.

= 8.4 08/12/2015 =
* FEATURE: Introduce the Template Customizer.
* FEATURE: Complete rewrite of the Default Entry Card template to support the new Template Customizer.
* NEW: Add action which runs after the template's registered CSS and custom CSS files have been enqueued.
* BUG: Fix the bottom bulk action control on the categories admin page.
* BUG: Check that $atts['selected'] is numeric in CN_Walker_Term_Select_List_Enhanced::render() to prevent PHP notice.
* TWEAK: Code cleanup of cnHTML to better meet coding standards and code de-duplication.
* TWEAK: Code cleanup of cnMetaboxRender::fields() to better meet coding standards and reduce code duplication by utilizing cnHTML.
* TWEAK: cnHTML::echoOrReturn() should be a static method.
* TWEAK: Remove the legacy template installer admin action.
* TWEAK: Remove the Template and Extension Dashboard metaboxes since they are no longer relevant.
* TWEAK: Add link to the new Hobbies extension to the readme.txt file.
* TWEAK: Remove deprecated templates.
* TWEAK: Add filter to the template to get via the template slug.
* TWEAK: Add compatibility filter to used the default template if a deprecated/removed template is being used.
* TWEAK: If script debugging is enabled to not check for minified CSS and JS files when loading template assets.
* TWEAK: Remove unused var_dump().
* TWEAK: Simplify ternary in cnSettingsAPI::registerFields().
* TWEAK: Remove padding from the last table row in the metaboxes.
* TWEAK: Set height of template thumbnail to auto.
* TWEAK: Rename filter `cn_list_template_init` to `cn_load_template`.
* TWEAK: Apply `cn_load_template` filter to the function defaults rather than the function $atts.
* TWEAK: Tweak to cnOutput::getNotesBlock(). Move the before/after attributes to be hard coded making the attributes empty. This makes it consistent with the other output functions.
* TWEAK: Tweak to cnOutput::getBioBlock(). Move the before/after attributes to be hard coded making the attributes empty. This makes it consistent with the other output functions.
* TWEAK: Simplify logic which appends the before/after attributes to the output of cnOutput::getImage().
* TWEAK: Small Tweak to cnOutput::getOrgUnitBlock() to allow suppression of either/or the org or unit (dept).
* TWEAK: Check for string length rather than using empty when checking for the parts of the name so values of `0` are valid.
* TWEAK: Check for string length rather than using empty when checking for the parts of the contact name so values of `0` are valid.
* TWEAK: Add a containing div around the output of cnOutput::getCategoryBlock().
* TWEAK: Simplify logic of cnOutput::getCategoryBlock().
* TWEAK: Rename action `cn_action_entry_actions-after` to `cn_entry_actions-after` to match naming style.
* TWEAK: Make logic for determining if the requested template has been found by checking if it is an object instance of cnTemplate.
* TWEAK: Add support to the Settings API for applying settings defaults for the Template Customizer.
* TWEAK: Add filter so active template can be overridden and set to the correct template being customized.
* TWEAK: Disable the output of the template parts form open/close if the current view is the Customizer preview.
* TWEAK: Add the supports property default when a template is registered with cnTemplateFactory.
* TWEAK: Complete refactor of the code for the Templates admin page to make it cleaner and more maintainable and enable support for the Template Customizer.
* TWEAK: Misc CSS tweaks.
* TWEAK: Tweak logic to cnTemplate::getThumbnail()  so it only returns a populated array if a thumbnail exists.
* OTHER: Remove extra whitespace.
* OTHER: Correct misspelling in phpDoc.
* OTHER: Update minified CSS files.
* I18N: Update the POT file.
* I18N: Update the MO files.
* DEV: Minor phpDoc fixes in the Metabox API classes.
* DEV: Add phpDoc to filter `cn_load_template`.
* DEV: Correct phpDoc for cnOptions::getActivateTemplate().
* DEV: Add @link to phpDoc for cnSettingsAPI::addSettingsField().
* DEV: Correct param type in phpDoc for cnHTML::attribute().

= 8.3.3 07/17/2015 =
* FEATURE: The default category "Uncategorized" can now be renamed.
* FEATURE: The default category can now be changed to any category.
* NEW: Add support for a category field type in the Settings API.
* NEW: Introduce cnSettingsAPI::set().
* NEW: Introduce cnOptions::getDefaultCategoryID().
* BUG: Correct the label for attribute for the search input on the Connections : Manage admin page.
* BUG: Remove unused param when using delete_option().
* TWEAK: Remove dead code, cnRegisterSettings::getPage().
* TWEAK: Remove use of deprecated use of get_screen_icon() on the Connections : Manage admin page.
* OTHER: Correct a few more misspellings in inline code comments.
* I18N: Update the POT file.
* I18N: Update the MO files.
* DEV: Correct code spacing in cnRegisterSettings::registerSettingsFields() to bring it up to coding standards.
* DEV: Add a couple more properties to the connectionsLoad class that are being set by cnRetrieve::entries() so they are documented.
* DEV: Add phpDoc for the global $connections var in cnScript::registerScripts().
* DEV: Correct code spacing in cnSettingsAPI::get() to bring it up to coding standards.
* DEV: Correct code spacing in cnSettingsAPI::registerFields() to bring it up to coding standards.

= 8.3.2 07/14/2015 =
* BUG: Fix PHP ternary to be compatible with older version of PHP. This could cause the Connections : Tools admin page to not display.
* BUG: Correct anchor target when a link is linked to the image or logo.
* BUG: Correct CN_Email_Log_List_Table::column_default() to be compatible with parent::column_default().
* BUG: Remove indentation comment from displaying in the System Information.
* TWEAK: Ensure data for registering a log type is valid before attempting to register it.
* TWEAK: Ensure data for registering an email log type is valid before attempting to register it.
* DEV: Prettify class cnImage() to better meet coding standards.

= 8.3.1 07/10/2015 =
* BUG: Fix PHP error `Parse error: syntax error, unexpected T_STATIC in ../wp-content/plugins/connections/includes/class.utility.php on line 1866` on older versions of PHP.

= 8.3 07/09/2015 =
* FEATURE: Add the Tools admin page with the System Info tab with the ability to email and/or share a secret URL to share the system info.
* FEATURE: Introduce the ability to export/import the settings.
* FEATURE: Introduce the ability for an admin to view and manage the email logs.
* NEW: Introduce cnString::quickRandom().
* NEW: Introduce cnString::random().
* NEW: Introduce cnFunction::decodeJSON().
* NEW: Introduce cnSettingsAPI::getAll(), cnSettingsAPI::download() and cnSettingsAPI::import().
* NEW: Introduce cnLog::delete().
* NEW: Introduce cnLog::views().
* COMPATIBILITY: Include theme compatibility file with a filter to make images and logos compatible in the ProPhoto theme.
* BUG: Fix bug in cnOutput::getContentBlock() that prevented the use of the content block name if the content block was registered as a single entry view content block.
* BUG: Fix bug throughout cnEmail referring to a nonexistent charSet var.
* BUG: Correct param default in cnAdminActions::setEntryStatus().
* BUG: Fix reference bug in cnLog::deleteConnected().
* TWEAK: Change cnFormatting::toYesNo() to a static method.
* TWEAK: Do not create the .htaccess file in the TimThumb folder since it is no longer needed.
* TWEAK: Move the vCard download template_redirect action callback function to static method cnvCard::download().
* TWEAK: Remove the dead code in the deactivation callback.
* TWEAK: Remove the Dashboard System widget.
* TWEAK: Remove use of the cnvCard class on the Manage admin page since it is no longer needed.
* TWEAK: Refactor cnOutput::getPhoneNumberBlock() to cleanup code and added a couple new filters.
* TWEAK: Update cnLog::getConnected() to support getting logs of multiple types.
* TWEAK: Update cnLog::getCount() to support getting log count of multiple types.
* TWEAK: Make cnLog::types() a public method.
* OTHER: Correct misspellings in inline code comments.
* I18N: Update the POT file.
* I18N: Update all MO files.
* DEV: Include the Browser class by Chris Schuld.
* DEV: phpDoc fixes.
* DEV: Add phpDoc for the vars being extracted in cnAdminMenu::menu().
* DEV: Use Yoda conditions.
* DEV: Prettify cnvCard() to better meet coding standards.
* DEV: Stub phpDoc for cnAdminAction class.

= 8.2.10 06/26/2015 =
* FEATURE: Allow admins and editors (roles with unfiltered_html capability) to use the Media Manager to insert images in the Bio and Notes fields.
* NEW: Introduce the new stateful cnLog().
* NEW: Introduce logging of email sent using cnEmail(). This will enable logging of email sent via Contact and Form.
* COMPATIBILITY: Add support for the WP Mail Logging plugin.
* COMPATIBILITY: Add support for the Email Log plugin.
* COMPATIBILITY: Add support for the Log Emails plugin.
* COMPATIBILITY: Prevent WP Super Cache from purging the page cache when a log in added/updated by cnLog().
* COMPATIBILITY: Prevent WP Rocket from purging the page cache when a log in added/updated by cnLog().
* BUG: Ensure bio and notes fields are unslashed before displayed.
* BUG: Fix admin sortable repeatable fieldsets.
* BUG: Fix limit bug when retrieving phone numbers by type.
* BUG: Fix limit bug when retrieving email addresses by type.
* BUG: Correct the defaults array initialization in cnOutput::getAddressBlock().
* BUG: Remove unused param in cnOutput::getLogoImage().
* BUG: Remove unused global cnOutput::getImage().
* BUG: Properly init arrays throughout cnOutput().
* TWEAK: Add limit support when retrieving addresses.
* TWEAK: Remove use of deprecated args sanitation function in cnOutput::getAddressBlock().
* TWEAK: Remove use of deprecated function in cnOutput::getImage().
* TWEAK: Remove use of deprecated args sanitization function throughout cnOutput().
* TWEAK: Rename cnLog() to cnLog_Stateless(), move it to its own folder/file and update its usage in cnImage().
* TWEAK: Refactor cnEmail::send(), break it apart into smaller more maintainable methods.
* I18N: Update POT file.
* I18N: Update all MO files.
* I18N: Remove orphaned MO file.
* DEV: Cleanup code alignment in cnOutput::getAddressBlock().
* DEV: Fix code alignment of defaults array in cnOutput::getImage().
* DEV: Correct several phpDoc params errors in cnOutput().
* DEV: Adjust filters and actions in cnEmail::send() for better compatibility.
* DEV: Prettify code in cnDate() to better meet coding standards.

[Complete Changelog can be found here.](http://connections-pro.com/changelog/)

== Upgrade Notice ==

= 8.2.10 =
It is recommended to backup before updating. Requires WordPress >= 4.0.

= 8.3 =
It is recommended to backup before updating. Requires WordPress >= 4.0.

= 8.3.1 =
It is recommended to backup before updating. Requires WordPress >= 4.0.

= 8.3.2 =
It is recommended to backup before updating. Requires WordPress >= 4.0.

= 8.3.3 =
It is recommended to backup before updating. Requires WordPress >= 4.0.

= 8.4 =
It is recommended to backup before updating. Requires WordPress >= 4.0.

= 8.4.1 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.4.2 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.4.3 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.4.4 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.4.5 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.1 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.2 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.3 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.4 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.5 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.6 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.7 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.8 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.9 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.10 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.11 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.12 =
It is recommended to backup before updating. Requires WordPress >= 4.1.

= 8.5.13 =
It is recommended to backup before updating. Requires WordPress >= 4.1.
