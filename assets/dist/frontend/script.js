!function(){"use strict";var e={n:function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,{a:o}),o},d:function(t,o){for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.apiFetch,o=e.n(t);const r=document.querySelectorAll('[data-component="form-user_login"],[data-component="form-user_register"],[data-component="form-request_reset_password"],[data-component="form-reset_password"]'),n=e=>204===e.status?null:e.json?e.json():Promise.reject(e);r.forEach(((e,t,r)=>{e.addEventListener("submit",(e=>{const t=e.target,r=t.querySelector('[data-component="messages"]'),a=t.querySelector('button[type="submit"]');if(a.classList.add("cbd-field--button__is-loading"),r.classList.remove("cbd-form__message--error","cbd-form__message--success"),r.innerHTML="",t.dataset.action){const e=new FormData(t);"string"==typeof t.dataset.redirect&&e.append("redirect_to",t.dataset.redirect),o()({path:t.dataset.action,method:t.method,body:e,parse:!1}).then((e=>n(e))).then((e=>{a.classList.remove("cbd-field--button__is-loading"),"string"==typeof e.confirmation&&(t.dataset.confirmation=e.confirmation),"string"==typeof e.redirect?window.location.replace(e.redirect+"?nocache="+(new Date).getTime()):"boolean"==typeof e.reload&&!0===e.reload?window.location.reload():"boolean"==typeof e.reset&&!0===e.reset&&t.reset(),"string"==typeof t.dataset.confirmation&&(r.classList.add("cbd-form__message--success"),r.innerHTML="<div>"+t.dataset.confirmation+"</div>"),a.disabled=!1})).catch((e=>n(e))).then((e=>{0<e.message.length&&(r.classList.add("cbd-form__message--error"),r.innerHTML="<div>"+e.message+"</div>"),a.classList.remove("cbd-field--button__is-loading"),a.disabled=!1}))}a.disabled=!0,e.preventDefault()}),!1)}))}();
//# sourceMappingURL=script.js.map