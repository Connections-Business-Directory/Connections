/*! For license information please see bundle.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=373)}({1:function(e,t){e.exports=lodash},109:function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},110:function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},137:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},138:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},139:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},140:function(e,t,n){},141:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},143:function(e,t,n){var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var c=window.Cookies,a=window.Cookies=i();a.noConflict=function(){return window.Cookies=c,a}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var c=JSON.stringify(n);/^[\{\[]/.test(c)&&(n=c)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in i)i[u]&&(a+="; "+u,!0!==i[u]&&(a+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+a}}function c(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],c=0;c<i.length;c++){var a=i[c].split("="),u=a.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(a[0]);if(u=(r.read||r)(u,l)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(o[l]=u,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return c(e,!1)},o.getJSON=function(e){return c(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))},15:function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},19:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},2:function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},22:function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var c=o.apply(null,r);c&&e.push(c)}else if("object"===i)for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},3:function(e,t,n){"use strict";n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return $})),n.d(t,"j",(function(){return se})),n.d(t,"k",(function(){return we})),n.d(t,"d",(function(){return Re})),n.d(t,"g",(function(){return Pe})),n.d(t,"c",(function(){return Le})),n.d(t,"e",(function(){return Ue})),n.d(t,"a",(function(){return Be})),n.d(t,"f",(function(){return ze})),n.d(t,"b",(function(){return He})),n.d(t,"l",(function(){return Ge}));var r=n(15),o=n.n(r),i=n(4),c=n.n(i),a=n(5),u=n.n(a),l=n(8),s=n.n(l),p=n(6),f=n.n(p),d=n(7),m=n.n(d),h=n(2),y=n.n(h),v=n(1);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var O=wp.element.Component,j=wp.components.FormTokenField,x=wp.apiFetch,E=wp.url.addQueryArgs,R={per_page:-1},k=function(e,t){return e.toLowerCase()===t.toLowerCase()},S=function(e){f()(n,e);var t=w(n);function n(){var e;return c()(this,n),(e=t.apply(this,arguments)).unescapeTerm=e.unescapeTerm.bind(s()(e)),e.unescapeTerms=e.unescapeTerms.bind(s()(e)),e.onChange=e.onChange.bind(s()(e)),e.searchTerms=Object(v.throttle)(e.searchTerms.bind(s()(e)),300),e.state={loading:!1,availableTerms:[],selectedTerms:[]},e}return u()(n,[{key:"unescapeTerm",value:function(e){var t=this.props.renderField;return g(g({},e),{},{unescapeName:Object(v.unescape)(e[t])})}},{key:"unescapeTerms",value:function(e){return Object(v.map)(e,this.unescapeTerm)}},{key:"componentDidMount",value:function(){var e=this;Object(v.isEmpty)(this.props.terms)||(this.setState({loading:!1}),this.initRequest=this.fetchTerms({search:this.props.terms.join(","),per_page:-1}),this.initRequest.then((function(){e.setState({loading:!1})}),(function(t){"abort"!==t.statusText&&e.setState({loading:!1})})))}},{key:"componentWillUnmount",value:function(){Object(v.invoke)(this.initRequest,["abort"]),Object(v.invoke)(this.searchRequest,["abort"])}},{key:"componentDidUpdate",value:function(e){e.terms!==this.props.terms&&this.updateSelectedTerms(this.props.terms)}},{key:"fetchTerms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.props,r=n.getFields,o=n.type,i=n.renderField,c=g(g(g({},R),t),{_fields:r}),a=x({path:E("/cn-api/v1/autocomplete/".concat(o),c)});return a.then(this.unescapeTerms).then((function(t){e.setState((function(e){return{availableTerms:e.availableTerms.concat(t.filter((function(t){return!Object(v.find)(e.availableTerms,(function(e){return e[i]===t[i]}))})))}})),e.updateSelectedTerms(e.props.terms)})),a}},{key:"updateSelectedTerms",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=this.props,r=n.renderField,o=n.returnField,i=t.reduce((function(t,n){var i=Object(v.find)(e.state.availableTerms,(function(e){return e[o]===n}));return i&&t.push(i[r]),t}),[]);this.setState({selectedTerms:i})}},{key:"onChange",value:function(e){var t,n,r=this,o=this.props,i=o.onChange,c=o.renderField,a=o.returnField,u=Object(v.uniqBy)(e,(function(e){return e.toLowerCase()})).filter((function(e){return Object(v.find)(r.state.availableTerms,(function(t){return k(t[c],e)}))}));i((t=u,n=this.state.availableTerms,t.map((function(e){return Object(v.find)(n,(function(t){return k(t[c],e)}))[a]}))))}},{key:"searchTerms",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Object(v.invoke)(this.searchRequest,["abort"]),this.searchRequest=this.fetchTerms({search:e})}},{key:"render",value:function(){var e=this.props,t=e.label,n=e.messages,r=this.state,o=r.loading,i=r.availableTerms,c=r.selectedTerms,a=i.map((function(e){return e.unescapeName}));return wp.element.createElement(j,{value:c,suggestions:a,onChange:this.onChange,onInputChange:this.searchTerms,maxSuggestions:20,disabled:o,label:t,messages:n})}}]),n}(O),T=n(68),_=n.n(T);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var D=lodash.groupBy;function I(e){var t=D(e,"parent");return function e(n){return n.map((function(n){var r=t[n.id];return C(C({},n),{},{children:r&&r.length?e(r):[]})}))}(t[0]||[])}n(140);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var F=wp.i18n,L=F.__,q=F._x,U=F._n,M=F.sprintf,B=wp.element.Component,V=wp.components,z=V.CheckboxControl,Q=V.withSpokenMessages,J=V.Spinner,W=wp.compose,H=W.withInstanceId,Z=W.compose,G=wp.apiFetch,K=wp.url.addQueryArgs,X={per_page:-1,orderby:"name",order:"asc",_fields:"id,name,parent"},Y=function(e){f()(n,e);var t=A(n);function n(){var e;return c()(this,n),(e=t.apply(this,arguments)).findTerm=e.findTerm.bind(s()(e)),e.onChange=e.onChange.bind(s()(e)),e.setFilterValue=e.setFilterValue.bind(s()(e)),e.sortBySelected=e.sortBySelected.bind(s()(e)),e.state={loading:!0,availableTermsTree:[],availableTerms:[],filterValue:"",filteredTermsTree:[]},e}return u()(n,[{key:"onChange",value:function(e){var t=this.props,n=t.onChange,r=t.terms;n(-1!==r.indexOf(e)?Object(v.without)(r,e):[].concat(_()(r),[e]))}},{key:"findTerm",value:function(e,t,n){return Object(v.find)(e,(function(e){return(!e.parent&&!t||parseInt(e.parent)===parseInt(t))&&e.name.toLowerCase()===n.toLowerCase()}))}},{key:"componentDidMount",value:function(){this.fetchTerms()}},{key:"componentWillUnmount",value:function(){Object(v.invoke)(this.fetchRequest,["abort"])}},{key:"fetchTerms",value:function(){var e=this,t=this.props.taxonomy;t&&(this.fetchRequest=G({path:K("/cn-api/v1/".concat(t,"/"),X)}),this.fetchRequest.then((function(t){var n=e.sortBySelected(I(t));e.fetchRequest=null,e.setState({loading:!1,availableTermsTree:n,availableTerms:t})}),(function(t){"abort"!==t.statusText&&(e.fetchRequest=null,e.setState({loading:!1}))})))}},{key:"sortBySelected",value:function(e){var t=this.props.terms,n=function e(n){return-1!==t.indexOf(n.id)||void 0!==n.children&&!!(n.children.map(e).filter((function(e){return e})).length>0)};return e.sort((function(e,t){var r=n(e),o=n(t);return r===o?0:r&&!o?-1:!r&&o?1:0})),e}},{key:"setFilterValue",value:function(e){var t=this.state.availableTermsTree,n=e.target.value,r=t.map(this.getFilterMatcher(n)).filter((function(e){return e}));this.setState({filterValue:n,filteredTermsTree:r});var o=function e(t){for(var n=0,r=0;r<t.length;r++)n++,void 0!==t[r].children&&(n+=e(t[r].children));return n}(r),i=M(U("%d result found.","%d results found.",o,"connections"),o);this.props.debouncedSpeak(i,"assertive")}},{key:"getFilterMatcher",value:function(e){return function t(n){if(""===e)return n;var r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n);return r.children.length>0&&(r.children=r.children.map(t).filter((function(e){return e}))),(-1!==r.name.toLowerCase().indexOf(e)||r.children.length>0)&&r}}},{key:"renderTerms",value:function(e){var t=this,n=this.props.terms,r=void 0===n?[]:n;return e.map((function(e){"editor-post-taxonomies-hierarchical-term-".concat(e.id);return wp.element.createElement("div",{key:e.id,className:"editor-post-taxonomies__hierarchical-terms-choice cbd__hierarchical-terms-choice"},wp.element.createElement(z,{checked:-1!==r.indexOf(e.id),onChange:function(){var n=parseInt(e.id,10);t.onChange(n)},label:Object(v.unescape)(e.name)}),!!e.children.length&&wp.element.createElement("div",{className:"editor-post-taxonomies__hierarchical-terms-subchoices"},t.renderTerms(e.children)))}))}},{key:"render",value:function(){var e=this.props,t=e.taxonomy,n=e.instanceId,r=this.state,o=r.availableTermsTree,i=r.availableTerms,c=r.filteredTermsTree,a=r.loading,u=r.filterValue;if(a)return wp.element.createElement("p",null,wp.element.createElement(J,null),L("Loading Data","connections"));var l="editor-post-taxonomies__hierarchical-terms-filter-".concat(n),s=M(q("Search %s","term","connections"),Object(v.startCase)(t)),p=M(q("Available %s","term","connections"),Object(v.startCase)(t)),f=i.length>=8;return[f&&wp.element.createElement("label",{key:"filter-label",htmlFor:l},s),f&&wp.element.createElement("input",{type:"search",id:l,value:u,onChange:this.setFilterValue,className:"editor-post-taxonomies__hierarchical-terms-filter",key:"term-filter-input"}),wp.element.createElement("div",{className:"editor-post-taxonomies__hierarchical-terms-list",key:"term-list",tabIndex:"0",role:"group","aria-label":p},this.renderTerms(""!==u?c:o))]}}]),n}(B),$=Z([Q,H])(Y),ee=n(19),te=n.n(ee),ne=n(39),re=n.n(ne),oe=lodash.get,ie=wp.i18n.__,ce=wp.data,ae=(ce.select,ce.withSelect),ue=wp.components.Spinner,le=wp.components.TreeSelect;var se=ae((function(e,t){var n=e("core"),r=n.getEntityRecords,o=n.getPostType,i=e("core/editor").getCurrentPostId,c=void 0===t.postType?"page":t.postType,a=o(c),u=i();return{options:r("postType",c,{per_page:-1,exclude:u,parent_exclude:u,orderby:"title",order:"asc",_fields:"id,parent,title"}),postTypeMeta:a}}))((function(e){e.postType;var t=e.postTypeMeta,n=e.label,r=e.value,o=e.noOptionLabel,i=e.options,c=e.onChange,a=re()(e,["postType","postTypeMeta","label","value","noOptionLabel","options","onChange"]);if(null===i)return wp.element.createElement("p",null,wp.element.createElement(ue,null),ie("Loading Data","connections"));var u=oe(t,["hierarchical"],!1),l=i||[],s=[];return l.length?(s=u?I(l.map((function(e){return{id:e.id,parent:e.parent,name:e.title.raw?e.title.raw:"#".concat(e.id," (").concat(ie("no title"),")")}}))):l.map((function(e){return{id:e.id,name:e.title.raw?e.title.raw:"#".concat(e.id," (").concat(ie("no title"),")")}})),wp.element.createElement(le,te()({className:"connections-directory--attributes__home_id",label:n,noOptionLabel:o,tree:s,selectedId:r,onChange:c},a))):null})),pe=n(22),fe=n.n(pe),de=lodash.isFinite,me=wp.i18n.__,he=wp.compose.withInstanceId,ye=wp.components,ve=ye.BaseControl,be=ye.Button,ge=ye.Dashicon;var we=he((function(e){var t=e.className,n=e.label,r=e.value,o=e.instanceId,i=e.onChange,c=e.beforeIcon,a=e.afterIcon,u=e.help,l=e.allowReset,s=e.initialPosition,p=re()(e,["className","label","value","instanceId","onChange","beforeIcon","afterIcon","help","allowReset","initialPosition"]),f="inspector-range-control-".concat(o),d=function(){return i()},m=function(e){var t=e.target.value;""!==t?i(Number(t)):d()},h=de(r)?r:s||"";return wp.element.createElement(ve,{label:n,id:f,help:u,className:fe()("components-range-control",t)},c&&wp.element.createElement(ge,{icon:c}),wp.element.createElement("input",te()({className:"components-range-control__slider",id:f,type:"range",value:h,onChange:m,"aria-describedby":u?f+"__help":void 0},p)),a&&wp.element.createElement(ge,{icon:a}),wp.element.createElement("input",te()({className:"components-range-control__number",type:"number",onChange:m,"aria-label":n,value:h},p)),l&&wp.element.createElement(be,{onClick:d,disabled:void 0===r},me("Reset")))}));function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var je=wp.element,xe=je.Component,Ee=(je.Fragment,wp.htmlEntities.decodeEntities),Re=function(e){f()(n,e);var t=Oe(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.asPermalink,n=void 0!==t&&t,r=(e.attributes,e.entry),o=e.tag,i=Ee(r.fn.rendered);return n&&(i=wp.element.createElement("a",{href:r.link},i)),wp.element.createElement(o,null,i)}}]),n}(xe);function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Se=wp.element,Te=Se.Component,_e=(Se.Fragment,wp.htmlEntities.decodeEntities),Pe=function(e){f()(n,e);var t=ke(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props.entry;return Object(v.isUndefined)(e.job_title)||1>e.job_title.rendered.length?null:wp.element.createElement("div",{className:"title"},_e(e.job_title.rendered))}}]),n}(Te);function Ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var De=wp.element.Component,Ie=wp.htmlEntities.decodeEntities,Ne=wp.i18n,Ae=Ne.__,Fe=(Ne._n,Ne._nx,Ne._x,Ne.sprintf),Le=function(e){f()(n,e);var t=Ce(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.entry,n=e.size,r=e.type,o=e.usePlaceholder,i=void 0!==o&&o,c=e.placeholderWidth,a=void 0===c?600:c,u=e.placeholderHeight,l=void 0===u?520:u;if(Object(v.has)(t.images,[r,n])){var s=t.images[r][n],p=s.height,f=s.url,d=s.width;return wp.element.createElement("span",{className:"cn-image-style"},wp.element.createElement("span",{style:{display:"block",maxWidth:"100%",width:"".concat(d,"px")}},wp.element.createElement("img",{className:"cn-image "+r,width:d,height:p,srcSet:f.replace(/^https?:/,"")+" 1x",alt:Fe(Ae("%s of %s","connections"),r.charAt(0).toUpperCase()+r.slice(1),Ie(t.fn.rendered))})))}if(!0===i){var m={display:"inline-block",paddingBottom:"calc(".concat(l," / ").concat(a," * 100%)"),width:a+"px"};return wp.element.createElement("span",{className:"cn-image-"+r+" cn-image-none",style:m},wp.element.createElement("span",null,Ae("No Image Available","connections")))}return null}}]),n}(De);function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Ue=function(e){f()(n,e);var t=qe(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.entry,n=e.preferred,r=void 0!==n&&n;if(Object(v.isUndefined)(t.tel)||0===t.tel.length)return null;var o=t.tel.filter((function(e){return r===e.preferred||!1===r})).map((function(e){return wp.element.createElement("div",{key:e.id},e.number.rendered)}));return 0===o.length&&(o=wp.element.createElement("div",{key:t.tel[0].id},t.tel[0].number.rendered)),wp.element.createElement("div",{className:"phone-numbers"},o)}}]),n}(wp.element.Component);function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Be=function(e){f()(n,e);var t=Me(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.entry,n=e.preferred,r=void 0!==n&&n;if(Object(v.isUndefined)(t.email)||0===t.email.length)return null;var o=t.email.filter((function(e){return r===e.preferred||!1===r})).map((function(e){return wp.element.createElement("div",{key:e.id},e.address.rendered)}));return 0===o.length&&(o=wp.element.createElement("div",{key:t.email[0].id},t.email[0].address.rendered)),wp.element.createElement("div",{className:"email-addresses"},o)}}]),n}(wp.element.Component);function Ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var ze=function(e){f()(n,e);var t=Ve(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props.entry;if(Object(v.isUndefined)(e.social)||0===e.social.length)return null;var t=e.social.map((function(e){return wp.element.createElement(Ge,{key:e.id,network:e,size:24})}));return wp.element.createElement("span",{className:"social-media-block"},t)}}]),n}(wp.element.Component);function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Je=wp.element.Component,We=wp.htmlEntities.decodeEntities,He=function(e){f()(n,e);var t=Qe(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props.entry;return Object(v.isUndefined)(e.excerpt)||1>e.excerpt.rendered.length?null:wp.element.createElement("div",{className:"excerpt",dangerouslySetInnerHTML:{__html:We(e.excerpt.rendered)}})}}]),n}(Je);function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m()(this,n)}}var Ge=function(e){f()(n,e);var t=Ze(n);function n(){return c()(this,n),t.apply(this,arguments)}return u()(n,[{key:"render",value:function(){var e=this.props,t=e.network,n=e.size,r=["cn-brandicon-".concat(t.slug),"cn-brandicon-size-".concat(n)];return wp.element.createElement("span",{className:"social-media-network cn-social-media-network"},wp.element.createElement("a",{className:"url ".concat(t.type),href:t.url,target:"_blank",rel:"noopener",title:t.name},wp.element.createElement("i",{className:r.join(" ")})))}}]),n}(wp.element.Component)},373:function(e,t,n){"use strict";n.r(t);var r,o=n(143),i=n(1);if("undefined"!=typeof cnViewing){var c=(r=o.getJSON("cnRecentlyViewed"),Object(i.isArray)(r)||(r=[]),r);0<=c.findIndex((function(e){return e.entryID===cnViewing.entryID}))&&Object(i.remove)(c,(function(e){return e.entryID===cnViewing.entryID})),c.unshift(cnViewing),o.set("cnRecentlyViewed",Object(i.take)(c,10))}var a=n(15),u=n.n(a),l=n(4),s=n.n(l),p=n(5),f=n.n(p),d=n(8),m=n.n(d),h=n(6),y=n.n(h),v=n(7),b=n.n(v),g=n(2),w=n.n(g),O=n(3);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w()(e);if(t){var o=w()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}var R=wp.i18n,k=R.__,S=(R._n,R._nx,R._x,wp.apiFetch),T=wp.components.Spinner,_=wp.element,P=_.Component,C=_.Fragment,D=_.render,I=wp.url.addQueryArgs,N=function(e){y()(n,e);var t=E(n);function n(e){var r;return s()(this,n),(r=t.call(this,e)).prepareQueryArgs=r.prepareQueryArgs.bind(m()(r)),r.fetchAPI=r.fetchAPI.bind(m()(r)),r.fetchEntries=r.fetchEntries.bind(m()(r)),r.state={queryResults:[],isLoading:!0},r}return f()(n,[{key:"componentDidMount",value:function(){this.fetchEntries()}},{key:"prepareQueryArgs",value:function(e){var t={};return t.exclude=this.props.exclude,t._images=[{type:"logo",size:"custom",width:600,height:520,zc:2},{type:"photo",size:"custom",width:600,height:520,zc:2}],t.per_page=this.props.limit,t._fields="type,fn.rendered,job_title.rendered,phone,email,social,excerpt.rendered,images,link",t=x(x({},t),e)}},{key:"fetchAPI",value:function(e){var t=I("/cn-api/v1/recently_viewed/",x(x({},e),{},{context:"view"}));return S({path:t})}},{key:"fetchEntries",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.fetchAPI(this.prepareQueryArgs(t)).then((function(t){e.setState({isLoading:!1,queryResults:t})}))}},{key:"render",value:function(){var e=this.state.queryResults;if(Array.isArray(e)&&e.length){var t=e.filter((function(e){return document.URL!==e.link})).map((function(e,t){return wp.element.createElement("li",{key:t},wp.element.createElement("div",{className:"cn-recently-viewed-image"},wp.element.createElement(O.c,{entry:e,type:"organization"===e.type?"logo":"photo",size:"custom",usePlaceholder:!0})),wp.element.createElement("div",{className:"cn-recently-viewed-details"},wp.element.createElement(O.d,{entry:e,tag:"span",asPermalink:!0}),wp.element.createElement(O.g,{entry:e})))}));return wp.element.createElement("ul",null,t)}return wp.element.createElement(C,null,wp.element.createElement("div",null,this.state.isLoading?wp.element.createElement("p",null,k("Loading...","connections")," ",wp.element.createElement(T,null)):wp.element.createElement("p",null,k("No recently viewed directory entries.","connections"))))}}]),n}(P);document.querySelectorAll(".cn-recently-viewed").forEach((function(e){var t=e.getAttribute("data-limit"),n=e.getAttribute("data-exclude");D(wp.element.createElement(N,{limit:t,exclude:n}),e)}))},39:function(e,t,n){var r=n(141);e.exports=function(e,t){if(null==e)return{};var n,o,i=r(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},4:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},5:function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},6:function(e,t,n){var r=n(109);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},68:function(e,t,n){var r=n(137),o=n(138),i=n(139);e.exports=function(e){return r(e)||o(e)||i()}},7:function(e,t,n){var r=n(110),o=n(8);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?o(e):t}},8:function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}});
//# sourceMappingURL=bundle.js.map