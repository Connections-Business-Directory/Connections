jQuery(document).ready(function(a){var b={init:function(){this.add(),this.setValue(),this.remove()},clone:function(b){var c=a(b),d=c.clone(!0);return d.find("input").each(function(){var b=a(this).attr("name");b=b.replace(/\[([^\]]*)\][^\[]*$/,"[%token%]"),a(this).attr("id",b),a(this).val("").attr("value","").prop("checked",!1).removeAttr("checked")}),d.find("input[type=text]").attr("data-registered",0).attr("data-custom",0).data("registered",0).data("custom",0).prop("disabled",!1),d.find("input[type=checkbox]").prop("disabled",!1),0===d.find("a.cn-remove").length&&d.append('<a href="#" class="cn-remove cn-button button">Remove</a>'),d.toggle(),d},add:function(){a(".cn-sortable-input-repeatable .cn-add").on("click",function(c){c.preventDefault();var d=a(this).parent().prev("li");d.after(b.clone(d))})},setValue:function(){var b=a("ul.cn-sortable-input-repeatable li input[type=text]");b.each(function(){var b=a(this);b.on("keydown",function(){var b=a(this),c=b.siblings("input");1!==b.data("registered")&&1!==b.data("custom")&&setTimeout(function(){var a=b.attr("name"),d=b.val(),e=d.trim().replace(/\W+/g,"-").replace(/^-+|-+$/g,"").toLowerCase();a=a.replace(/\[([^\]]*)\][^\[]*$/,"["+e+"]"),b.attr("id",a).attr("name",a).attr("value",d),c.attr("id",a).attr("value",e)},0)})})},remove:function(){a(".cn-sortable-input-repeatable").on("click",".cn-remove",function(b){b.preventDefault(),a(this).parent().remove()})}};b.init()});