var cnWidgets;!function(a){cnWidgets={init:function(){{var b=a("div.widgets-sortables");!("undefined"==typeof isRtl||!isRtl),isRtl?"marginRight":"marginLeft"}a(".postbox").on("click","a.widget-action",function(b){var c=a(this).closest("div.widget"),d=c.children(".widget-inside");d.is(":hidden")?(cnWidgets.fixLabels(c),d.slideDown("fast")):d.slideUp("fast",function(){c.css({width:"",margin:""})}),b.preventDefault()}),b.sortable({placeholder:"widget-placeholder",items:"> .widget",handle:"> .widget-top > .widget-title",cursor:"move",distance:2,containment:"document",start:function(b,c){cnWidgets.fixWebkit(1);var d=c.item.height();a(".widget-placeholder").css({height:d}),c.item.css({margin:"",width:"100%"})},stop:function(a,b){b.item.hasClass("ui-draggable")&&b.item.data("draggable")&&b.item.draggable("destroy"),b.item.css({margin:"",width:""}),cnWidgets.fixWebkit()},receive:function(){a(this).is(":visible")||a(this).sortable("cancel")}}).sortable()},fixWebkit:function(b){b=b?"none":"",a("body").css({WebkitUserSelect:b,KhtmlUserSelect:b})},fixLabels:function(b){b.children(".widget-inside").find("label").each(function(){var b=a(this).attr("for");b&&b==a("input",this).attr("id")&&a(this).removeAttr("for")})}},a(document).ready(function(){cnWidgets.init()})}(jQuery);