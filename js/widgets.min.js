var cnWidgets;(function(a){cnWidgets={init:function(){var e,c=a("div.widgets-sortables"),b=!!("undefined"!=typeof isRtl&&isRtl),d=(isRtl?"marginRight":"marginLeft");
a("a.widget-action").live("click",function(){var g={},h=a(this).closest("div.widget"),f=h.children(".widget-inside");if(f.is(":hidden")){cnWidgets.fixLabels(h);
f.slideDown("fast");}else{f.slideUp("fast",function(){h.css({width:"",margin:""});});}return false;});c.sortable({placeholder:"widget-placeholder",items:"> .widget",handle:"> .widget-top > .widget-title",cursor:"move",distance:2,containment:"document",start:function(g,f){cnWidgets.fixWebkit(1);
var h=f.item.height();a(".widget-placeholder").css({height:h});f.item.css({margin:"",width:"100%",});},stop:function(g,f){if(f.item.hasClass("ui-draggable")&&f.item.data("draggable")){f.item.draggable("destroy");
}f.item.css({margin:"",width:""});cnWidgets.fixWebkit();},receive:function(g,f){if(!a(this).is(":visible")){a(this).sortable("cancel");}}}).sortable();
},fixWebkit:function(b){b=b?"none":"";a("body").css({WebkitUserSelect:b,KhtmlUserSelect:b});},fixLabels:function(b){b.children(".widget-inside").find("label").each(function(){var c=a(this).attr("for");
if(c&&c==a("input",this).attr("id")){a(this).removeAttr("for");}});},};a(document).ready(function(b){cnWidgets.init();});})(jQuery);